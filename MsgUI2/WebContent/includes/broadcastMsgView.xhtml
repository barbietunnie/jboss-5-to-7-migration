<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
]>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:messages styleClass="errors" layout="list"
	rendered="#{debug.showMessages}" />

<h:panelGrid columns="2" styleClass="smtpHeaders" 
	columnClasses="smtpLabelColumn, smtpTextColumn">
	
	<h:outputText value="#{msgs.fromAddressPrompt}" />
	<h:outputText value="#{emailAddress.findAddressByRowId(broadcastMsg.broadcastMsg.fromAddrRowId)}"/>

	<h:outputText value="#{msgs.toAddressPrompt}" />
	<h:outputText value="#{emailAddress.findAddressByRowId(broadcastMsg.broadcastMsg.toAddrRowId)}"/>

	<h:outputText value="#{msgs.msgSubjectPrompt}" />
	<h:outputText value="#{broadcastMsg.broadcastMsg.msgSubject}" />

	<h:outputText value="#{msgs.receivedDatePrompt}" />
	<h:outputText value="#{broadcastMsg.broadcastMsg.receivedTime}">
		<f:convertDateTime dateStyle="default"/>
	</h:outputText>

	<h:outputText value="#{msgs.siteIdPrompt}" 
		rendered="#{broadcastMsg.broadcastMsg.senderData != null}" />
	<h:outputText value="#{broadcastMsg.broadcastMsg.senderData.senderId}" 
		rendered="#{broadcastMsg.broadcastMsg.senderData != null}" />
	
	<h:outputText value="#{msgs.ruleNamePrompt}" />
	<h:outputText value="#{ruleLogic.findRuleNameByRowId(broadcastMsg.broadcastMsg.ruleLogicRowId)}" />

	<h:outputText value="#{msgs.bodyContentTypePrompt}" />
	<h:outputText value="#{broadcastMsg.broadcastMsg.bodyContentType}" />
</h:panelGrid>

<h:dataTable value="#{broadcastMsg.msgHeaderList}" var="hdr" 
 			styleClass="smtpHeaders"
 			columnClasses="smtpLabelColumn, smtpTextColumn"
 			rendered="#{broadcastMsg.broadcastMsg.showAllHeaders and (broadcastMsg.msgHeaderList !=null and broadcastMsg.msgHeaderList.rowCount > 0)}">
   <h:column>
      <h:outputText value="#{hdr.headerName}:"/>
   </h:column>
   <h:column>
      <h:outputText value="#{hdr.headerValue}"/>
   </h:column>
</h:dataTable>

<f:verbatim><br/></f:verbatim>
<h:panelGrid columns="1" styleClass="smtpBody">
	<h:outputText value="#{broadcastMsg.broadcastMsg.displayBody}" escape="false" 
		rendered="#{not broadcastMsg.broadcastMsg.showRawMessage}"/>
	<h:outputText value="#{broadcastMsg.broadcastMsg.rawMessage}" escape="false" 
		rendered="#{broadcastMsg.broadcastMsg.showRawMessage}"/>
</h:panelGrid>

<h:panelGrid columns="2"
	styleClass="commandBar" columnClasses="alignLeft30, alignRight70">
	<h:panelGroup style="text-align: left;">
		<h:commandButton value="#{msgs.backButtonText}" title="Go back to List"
			action="#{broadcastMsg.cancelEdit}"/>
	</h:panelGroup>
	<h:panelGroup style="text-align: right;">
		<f:verbatim>&nbsp;</f:verbatim>
	</h:panelGroup>
</h:panelGrid>
</html>